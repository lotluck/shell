#! /bin/bash

#mpstat 统计每个cpu相关信息

# 只有下面三个指标有用
# %iowait  未完成IO所占的CPU的百分比
# %irq ：  显示CPU或CPU用于服务硬件中断的时间百分比。
# %soft ： 显示CPU或CPU用于服务软件中断的时间百分比

mpstat -P ALL 1

#19:32:51     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
#19:32:52     all    2.94    0.00    0.47    0.00    0.00    0.00    0.00    0.00    0.00   96.59
#19:32:52       0    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
#19:32:52       1    0.00    0.00    2.00    0.00    0.00    0.00    0.00    0.00    0.00   98.00
#19:32:52       2   90.91    0.00    9.09    0.00    0.00    0.00    0.00    0.00    0.00    0.00
#19:32:52       3    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
#19:32:52       4    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
#19:32:52       5    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
#19:32:52       6    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
#19:32:52       7    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
#19:32:52       8    0.00    0.00    1.00    0.00    0.00    0.00    0.00    0.00    0.00   99.00
#19:32:52       9    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
#19:32:52      10    0.00    0.00    0.99    0.00    0.00    0.00    0.00    0.00    0.00   99.01

